<!DOCTYPE html>
<html>

<head>
    <title>JapaneseGraph</title>
    <meta charset="utf-8">
    <meta name="description"
        content="Learn Japanese by exploring the relationships between characters alongside examples that illustrate their use.">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script type="module">
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/asset-service-worker.js');
        };
    </script>
    <script src="/js/data-load.js"></script>
    <script src="/js/external/cytoscape.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/hanzi-graph.css">
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/images/favicon-32x32.png" type="image/x-icon">
    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
</head>

<body>
    <header class="header">
        <div id="left-menu-button-container" class="left-menu-button-container">
            <i id="left-menu-button" class="menu-button"></i>
        </div>
        <h1 id="main-header" class="main-header">JapaneseGraph</h1>
        <div id="right-menu-button-container" class="right-menu-button-container">
            <i id="right-menu-button" class="study-button"></i>
        </div>
    </header>
    <div id="main-app-container" class="primary-container">
        <div id="query-container" class="control-container">
            <form id="hanzi-choose">
                <input id="hanzi-box" aria-label="Pick a kanji or word" placeholder="Pick a kanji or word" type="search"
                    enterkeyhint="search" class="primary-input" autocapitalize="off" autocomplete="off" />
                <ul id="search-suggestions-container" class="search-suggestions" style="display:none"></ul>
                <div id="query-options-container" class="secondary-input-container">
                    <div id="recommendations-container" class="recommendations" style="visibility: hidden;"></div>
                    <div id="graph-switch-container" class="secondary-input" style="display:none"><a class="active-link"
                            id="graph-switch">Show Flow</a></div>
                </div>
                <!-- TODO: remove that recommendations hack... -->
                <input id="submit-button" type="submit" value="Go!" style="display:none" />
            </form>
        </div>
        <div id="data-container" class="output-container">
            <div id="text-container" class="primary-panel">
                <div id="explore-container" class="section-container">
                    <p style="display:none" id="not-found-message">That word was not found üòû.</p>
                    <input id="show-pinyin" type="checkbox" style="display:none" />
                    <div id="walkthrough" class="walkthrough" style="display:none">
                        <!-- i18n :-( -->
                        <h4>
                            Learn Japanese by exploring the relationships between characters alongside examples that
                            illustrate their use.
                        </h4>
                        <p>
                            To get started, click any kanji or word in the diagram. You can search for kanji or Japanese
                            words.
                        </p>
                        <p>
                            <b>JapaneseGraph is free and open source.</b> Give a star ‚≠ê, file a bug, or check out the
                            code
                            on <a class="active-link"
                                href="https://github.com/mreichhoff/HanziGraph/tree/JapaneseGraph">GitHub.</a>
                        </p>
                        <p>
                            Looking for Chinese? Check out <a class="active-link"
                                href="https://hanzigraph.com">HanziGraph</a>.
                        </p>
                        <p>
                            <a class="active-link" id="show-general-faq">See the FAQ for more information.</a>
                        </p>
                    </div>
                    <div id="examples">
                    </div>
                </div>
                <div id="study-container" class="section-container" style="display:none">
                    <div id="study-explain-container" class="explanation">
                        <h3>Study Mode</h3>
                        <p id="explain-text">Not sure how this works? <a class="active-link" id="show-study-faq">Learn
                                more.</a></p>
                        <p id="hide-study-explanation"><a class="active-link">Hide this message</a></p>
                    </div>
                    <p id="cards-due" class="explanation">
                        Cards due: <span id="card-due-count"></span>
                    </p>
                    <p id="study-call-to-action" class="study-call-to-action">
                        <span id="task-description">What does the text below mean?</span>
                        <span id="task-complete">Studying complete. Check later for more reviews, or add more
                            cards.</span>
                    </p>
                    <p id="card-question-container" class="card-question"></p>
                    <p id="show-answer-button" class="study-call-to-action active-link">Show Answer</p>
                    <div id="card-answer-container" style="display:none">
                        <p id="card-answer" class="card-answer"></p>
                        <ul id="result-buttons">
                            <li id="wrong-button">‚úï</li>
                            <li id="right-button">‚úî</li>
                        </ul>
                        <p id="delete-card-button" class="active-link">Delete this card</p>
                        <div id="past-performance-container" class="card-detail">
                            <p id="card-new-message" style="display:none">This is a new card!</p>
                            <div id="card-old-message" style="display: none;">
                                <p>Previous attempts: <span id="card-percentage"></span>% correct.</p>
                                <p>Right <span id="card-right-count"></span>; Wrong <span id="card-wrong-count"></span>.
                                </p>
                            </div>
                        </div>
                        <div id="related-cards-container" class="card-detail" style="display:none">
                            Other cards with <span id="related-card-query"></span>:
                            <div id="related-cards" class="related-cards"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="graph-container" class="primary-panel">
                <div id="graph" class="graph"></div>
                <div id="legend">
                    More common
                    <div id="level-container"></div>
                    Less Common
                </div>
            </div>
            <div id="flow-diagram-container" class="primary-panel" style="display:none"></div>
        </div>
    </div>
    <div id="stats-container" style="display:none">
        <h2 class="stats-header">Your Stats</h2>
        <section class="stats-category">
            <div id="visited-container" style="display:none">
                <h3 class="stats-header">Kanji Seen</h3>
                <p class="explanation">You've viewed examples for:</p>
                <div id="visited-graph"></div>
                <p id="visited-graph-detail" class="explanation">Percentages are kanji seen, not words. Click a
                    bar
                    in the chart for details.</p>
            </div>
            <div id="studied-container">
                <h3 class="stats-header">Kanji in Flashcards</h3>
                <div id="studied-graph"></div>
                <p id="studied-graph-detail" class="explanation">Percentages are kanji seen, not words. Click a bar
                    in
                    the chart for details.</p>
            </div>
        </section>
        <section class="stats-category">
            <div id="study-calendar-container" style="display: none;">
                <h3 class="stats-header">Daily Study Stats</h3>
                <div id="study-calendar"></div>
                <p id='study-calendar-detail' class="stats-detail">Click a box in the calendar for details.
                    Brighter
                    colors mean more
                    studying.
                </p>
            </div>
            <h3 class="stats-header">Cards Added by Day</h3>
            <div id="added-calendar"></div>
            <p id='added-calendar-detail' class="stats-detail">Click a box in the calendar for details. Brighter
                colors mean more cards
                added.
            </p>
            <div id="hourly-container" style="display: none;">
                <h3 class="stats-header">Hourly Study Stats</h3>
                <p id='hourly-graph-detail' class="stats-detail">Click a bar in the chart for details.
                    <br />Green:
                    75% correct or
                    better.
                    Blue:
                    between 50% and 75%. Orange: between 25% and 50%. Red: less than 25% correct.
                </p>
                <div id="hourly-graph"></div>
            </div>
        </section>
    </div>
    <div id="faq-container" class="faq" style="display:none">
        <section id="faq-general" style="display:none">
            <p>This site is a prototype, but it&#39;s decently usable in its current state. Feel free to see the
                (currently
                at a
                hackathon level of quality) <a
                    href="https://github.com/mreichhoff/HanziGraph/tree/JapaneseGraph">code</a> or
                contact
                <a href="https://github.com/mreichhoff">the author on github</a>.
            </p>
            <p>The idea is to emphasize the word-forming connections among kanji to help learners remember them.
                I&#39;ve
                found
                this more fun and effective than other methods, like studying stroke order, learning radicals or
                components,
                writing each character out 100 times, or doing spaced repetition on cards mapping kanji to
                pinyin
                and
                English.
            </p>
            <h3>Is there an app?</h3>
            <p>
                The site is a progressive web app. This means it uses modern browser APIs to make an
                installable
                app. Follow <a href="https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps/Installing">the
                    directions for your platform</a> to install it. A truly native app downloadable
                from
                the app
                stores may be a future work item.
            </p>
            <h3>Where did the examples come from?</h3>
            <p>
                The examples came from <a href="https://tatoeba.org">Tatoeba</a>, which releases
                data
                under <a href="https://creativecommons.org/licenses/by/2.0/fr">CC-BY 2.0 FR</a>, and
                from <a href="http://www.opensubtitles.org/">OpenSubtitles</a>, pulled from <a
                    href="https://opus.nlpl.eu/OpenSubtitles2018.php">opus.nlpl.eu</a>.
            </p>
            <p>
                Definitions and pinyin transcriptions of individual words were pulled from <a
                    href="https://cc-cedict.org/editor/editor.php">CEDICT</a>, which releases data
                under
                <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.
                Accordingly,
                some of the files in <code>data</code> should be considered released under that same
                license.
            </p>
        </section>
        <section id="faq-study-mode" style="display:none">
            <h3>How does study mode work?</h3>
            <p>When you add words to your study list, they will be presented to you as flashcards.
                You&#39;ll
                be
                shown the sentence and asked what it means; click &quot;Show Answer&quot; to see how
                tatoeba
                translated it. When you click &quot;I didn&#39;t know that&quot;, the card will be
                added
                back to
                the
                end of your to-study list. When you click &quot;I knew that!&quot;, it will be shown
                one
                day
                later,
                then two days if you get it right again, then four, and so on. It is meant to be a
                very,
                very
                basic
                <a href="https://en.wikipedia.org/wiki/Spaced_repetition">spaced repetition
                    system</a>.
            </p>
            <h3>What does the export button do?</h3>
            <p>
                The export button downloads a file that can be imported into a different (better)
                spaced
                repetition
                system, like Anki.
            </p>
            <h3>Where are the flashcards stored?</h3>
            <p>All data for the site is stored in <a
                    href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">localStorage</a>.
                It
                does not leave your browser, and clearing your browser data will clear it.
            </p>
        </section>
        <section id="faq-context" style="display:none">
            <h3>What does "You've seen" mean?</h3>
            <p>As you search, click, or tap kanji or connections in the diagram, you are shown
                example
                sentences. Then, when you add words to your study list, the examples are converted
                to
                flashcards.
            </p>
            <p>
                This section indicates how many times you've
                viewed examples for each of the characters in a given word, and how many cards
                contain
                those characters. The numbers are based on how things were when you viewed the
                examples,
                so if it's your first time seeing examples for a character, it'll say seen 0 times.
            </p>
            <h3>What do the word frequency and character frequency stats mean?</h3>
            <p>
                In most languages, there are some words that are used much more frequently than others. If you
                learn those words first, you'll be able to understand more of what you hear and read than if you'd start
                with less-common words. With Japanese, the same is true of characters: the most common ones are
                used an outsize proportion of the time, and they are the best ones to start with.
            </p>
            <p>
                JapaneseGraph tries to help learners know how important a word is via color-coding in the diagrams
                and by surfacing raw frequency stats alongside the definitions and examples. This way,
                learners can concentrate on words that provide the biggest 'bang for your buck', so to speak.
            </p>
            <p>
                Both word and character frequency data is based on analysis of millions of lines of subtitles, wikipedia
                articles, UN declarations, and website text. Particularly for words, the subtitles are given priority,
                since they tend to be more colloquial.
            </p>
        </section>
        <section id="faq-recommendations" style="display:none">
            <h3>How do recommendations work?</h3>
            <p>
                Recommendations are based on what kanji you&#39;ve already viewed examples for.
                For instance, if you&#39;ve viewed examples for ‰∏ãÂçà and ‰∏äÂçà,
                but you haven&#39;t yet visited ‰∏≠, we might
                recommend you visit ‰∏≠, since ‰∏≠Âçà is common, and you&#39;ve seen Âçà in several
                contexts,
                which might make it easier to remember ‰∏≠.
            </p>
        </section>
        <section id="faq-flow" style="display:none">
            <h3>What is the flow diagram?</h3>
            <p>
                The flow diagrams are <a href="https://en.wikipedia.org/wiki/Sankey_diagram">Sankey diagrams</a>.
                They were generated by analyzing which words are most commonly used before and after the search term.
                Specifically, the top <a href="https://en.wikipedia.org/wiki/Collocation">collocations</a> of length
                2 and 3 are shown. You can read the diagram itself from left to right, with taller bars meaning a
                word was more commonly used. The analysis was done on movie and TV subtitles, so (in theory) the
                diagram represents colloquial speech. You can click any of the words to see examples for it, much
                like the graph diagram.
            </p>
        </section>
    </div>
    <div id="menu-container" style="display:none">
        <main class="menu">
            <div class="menu-item" id="welcome-message-container" style="display:none">
                <span id="welcome-message" class="welcome-message"></span>
            </div>
            <div id="signin" class="menu-item">
                <a id="signin-button" class="active-link" href="/login.html">Sign in</a>
                <a id="signout-button" class="active-link" style="display:none">Sign out</a>
            </div>
            <div class="menu-item">
                <label class="menu-item-text" for="color-code-selector">Color code based on:</label>
                <select id="color-code-selector">
                    <option selected value="word_level">Word Frequency</option>
                    <option value="char_level">JLPT Level</option>
                </select>
            </div>
            <div class="menu-item">
                <label id="toggle-pinyin-label" class="active-link" for="show-pinyin">
                    Turn on pinyin in examples
                </label>
            </div>
            <div class="menu-item">
                <a id="stats-link" class="active-link">Check out your stats</a>
            </div>
            <div class="menu-item">
                <span>Recommendations:</span>
                <label for="recommendations-difficulty">
                    show me
                    <select id="recommendations-difficulty">
                        <option selected>any</option>
                        <option>easy</option>
                        <option>hard</option>
                    </select>
                    kanji</label>
            </div>
            <div class="menu-item">
                <a class="active-link" href="https://github.com/mreichhoff/HanziGraph/blob/JapaneseGraph/README.md">Give
                    a star, file a bug, or check out the code on GitHub.</a>
            </div>
            <div class="menu-item">
                <a class="active-link"
                    href="https://github.com/mreichhoff/HanziGraph/blob/JapaneseGraph/README.md#acknowledgements">Acknowledgements</a>
            </div>
            <div class="menu-item active-link" id="exportStudyListButton" style="display:none">Export study
                list</div>
        </main>
    </div>
    <script type="module" src="/js/bundle.js"></script>
</body>

</html>